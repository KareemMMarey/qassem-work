@model QassimPrincipality.Application.Dtos.ServiceRequestDto
@{
    // Pull the parent’s localizer out of ViewData
    var localizer = ViewData["ParentLocalizer"] as IViewLocalizer
        ?? throw new InvalidOperationException("ParentLocalizer not found.");
}

@if (!string.IsNullOrEmpty(Model.BasicData.RequestDetails) || !string.IsNullOrEmpty(Model.AdditionalData?.RequestDetails))
{
    <table class="pc-basic-table request-data-table">
        <tr>
            <td class="td-bold">@localizer["RequestDetails"]</td>
            <td class="td-request-details" colspan="3">
                @Html.Raw(
                         string.IsNullOrWhiteSpace(Model.BasicData.RequestDetails)
                         ? $"<span class='text-muted'>{localizer["NoDetailsRecorded"].Value}</span>"
                         : Model.BasicData.RequestDetails.Replace("\n", "<br />")
                         )
            </td>
        </tr>
    </table>
    <div class="pc-form-line"></div>
}
